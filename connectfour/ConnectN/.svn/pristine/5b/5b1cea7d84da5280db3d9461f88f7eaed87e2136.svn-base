package is207.connectn.strategy;

import java.util.Random;



/**
 *
 * @author evenal
 */
public class RandomStrategy extends Strategy
{

    private static Random rand = new Random();
    private static final int ME = 1;
    private static final int HIM = -1;
    Board board;
    boolean haveMoved = false;

    @Override
    public void setup() {
        super.setup();
        board = new Board(rows, cols);
        selectedMove = lastMove = -1;
    }

    @Override
    public Integer call() {
        // update board
        if (selectedMove >= 0) {
            board.tryMove(selectedMove, ME);
        }
        if (lastMove >= 0) {
            board.tryMove(lastMove, HIM);
        }

        haveMoved = true;

        int n = validMoves.size();
        int i = rand.nextInt(n);
        selectedMove = validMoves.get(i);
        return selectedMove;
    }
}
